\documentclass[DIV12,spanish]{scrartcl}
\usepackage{parskip,ae}
\usepackage[latin1]{inputenc}
\usepackage[spanish]{babel}
\usepackage[%
            pdfstartview=FitH,%
            pdftitle={Muttprint - Manual del Usuario},%
            bookmarks=true,%
            pdfauthor={Marcelo Ramos}%
            ]%
            {hyperref}
\usepackage[latin1]{inputenc}
\usepackage{url}
\setcounter{tocdepth}{2}
\begin{document}
\title{Muttprint -- Manual del Usuario}
\date{12/08/2001, versión 0.53a}
\author{Bernhard Walle (\url{Bernhard.Walle@gmx.de})}
\maketitle

\tableofcontents

\newpage

\section{Acerca de este script}

La impresión de mensajes de correo desde Mutt (y muchos otros clientes de
correo) es realizada como ``texto plano''. En general, ésto no es suficiente,
pero en mi opinión no es tan bella como una impresión con formato como por
ejemplo desde Netscape. Pero no quiero usar Netscape ya que Mutt tiene muchas
otras ventajas.

Otro hecho que me incomoda: La impresión contiene todas las cabeceras
visibles. He configurado Mutt para que muestre cosas como ``X-Mailer'', pero
no quiero imprimir eso. XFMail es bastante peor: Imprime todas las cabeceras,
así que la impresión es en mi opinión inutilizable.

Una vez tuve la idea de escribir un script yo mismo, que creara una hermosa
impresión. Y aquí está el resultado. Pienso que luce bastante mejor que el
texto ASCII plano y es comparable a la impresión desde programas como 
\emph{Microsoft Outlook (Express)} o \emph{Netscape Messenger}.




\section{Instalación}

\subsection{Instalación del script en tu computadora}

\subsubsection{Instalación Manual}

Primero tienes que desempaquetar el script. La forma más simple es teclear el
comando

{\ttfamily ~~~~~~\$  tar xvfz muttprint-[versión].tar.gz}

Entonces ingresa en el nuevo directorio con el siguiente comando:

{\ttfamily ~~~~~~\$  cd muttprint-[Versión]}

En éste directorio encontrarás un archivo \texttt{Makefile} adecuado. Para
cambiar el destino de la instalación para tu sistema, simplemente edita éste
archivo con tu editor favorito.

Necesitarás privilegios de administrador (root) para instalar el programa.
Después que te hayas convertido en root con el comando \texttt{su}, podrás
iniciar la instalación con:

{\ttfamily ~~~~~~\#  make install}

El script ahora debería funcionar.

Si quieres desinstalar el script más tarde, y todos los archivos están
todavía en el mismo lugar, simplemente corre

{\ttfamily ~~~~~~\#  make uninstall}

como root.

\subsubsection{Instalación de los paquetes}

Si tu distribución utiliza un sistema de administración de paquetes tal como
RPM o DPKG es una buena idea utilizar los paquetes correspondientes.

Está disponible un paquete RPM para distribuciones basadas en el formato RPM
(SuSE, RedHat, TurboLinux, EasyLinux, Mandrake \ldots) con cada nueva versión
de Muttprint. La instalación (o actualización) es realizada por el comando:

{\ttfamily ~~~~~~\#  rpm -Uvh muttprint-[Versión]-[Revisión].noarch.rpm}

Todos los paquetes RPM están firmados con mi clave (ID DDAF6454). Puedes
encontrar más información sobre el uso de RPMs y la verificación de firmas 
en \cite{maxrpm}.

Los paquetes Debian son creados por Chanop~Silpa-Anan \url{chanop@debian.org}
y están disponibles solo unos pocos días después del lanzamiento de una
nueva versión de Muttprint. La instalación es realizada por el comando:

{\ttfamily ~~~~~~\#  dpkg -i muttprint\_[versión]-[revisión]\_noarch.deb}

Puedes encontrar más información sobre el sistema de paquetes Debian en 
\cite{deb}.
                                      
\subsection{Integración de Muttprint en los clientes de correo}

\subsubsection{Mutt}

Para usar Muttprint con Mutt, tienes que cambiar o agregar la siguiente
línea en 

{\ttfamily \$HOME/.muttrc} o en
{\ttfamily /etc/Muttrc}:

{\ttfamily ~~~~~~~set print\_{}command=\verb|"|muttprint\verb|"|}

Además debes cerciorarte de que las siguientes cabeceras sean mostradas y de
ese modo son entregadas a Muttprint para ser impresas: \texttt{From:},
\texttt{Date:}, \texttt{To:}, \texttt{CC:} and \texttt{Subject:}.
Ésa es la única forma con la cual Muttprint puede obtener la información e
imprimir correctamente. El order no es importante.

Un configuración posible en \texttt{\~{}/.muttrc} puede ser:

\begin{verbatim}
# ignorar todas las cabeceras ...
ignore * 

# ... excepto estas
unignore        from: subject to cc date
\end{verbatim}

Para imprimir más de un mensaje, deberías colocar lo siguiente:

\begin{verbatim}
# Separar los mensajes para ser impresos
set print_split
\end{verbatim}

Puedes encontrar más información en la documentación de Mutt (en general 
la encontrarás en  \linebreak[5] \url{/usr/share/doc/packages/mutt/manual.txt}).



\subsubsection{XFMail}

En el diálogo ``Misc'', ``Config Misc'' tienes que ingresar el script en ``Print
Command'' de este modo: {\ttfamily /usr/bin/muttprint -f \$f}.

\emph{Atención:} Con algunas versiones de XFMail se reportaron problemas a
causa de que XFMail no agrega las cabeceras en la impresión. Pero aquí no
puedo hacer nada \dots

\subsubsection{Pine}

Ingresa el comando de impresión {\ttfamily muttprint} en ``Setup'',
``Printer'', ``Personally select print command''. Guarda los cambios.

\subsubsection{Sylpheed}

Para usar Muttprint permanentemente como programa de impresión, entra en
``Configuration'', ``Common preferences'', ``Other'', ``Printing'' e ingresa \texttt{muttprint -f
\%s}.

 \subsubsection{Gnus}

Muttprint también puede ser integrado en \emph{Gnus}. Un usuario me ha
proporcionado un código Lisp que realiza la integración. Por favor no me 
preguntes al respecto ya que no conozco Lisp y no uso (X)Emacs personalmente.

Encontrarás el código en \texttt{README.Gnus} y me gustaría que consultaras
ése archivo. Si usas paquetes para la instalación deberías encontrar ése
archivo en el directorio \url{/usr/share/doc/packages/muttprint/}.
       

\subsubsection{Otros clientes de correo}

En general el script funciona con todos los clientes de correo que cumplen las
siguientes condiciones:

\begin{itemize}
\item El formato de salida es texto plano ASCII (o con el conjunto de
caracteres ISO~Latin~1).
\item Debe ser posible elegir el comando de impresión..
\end{itemize}

Los lectores de grupos de noticias también son soportados. La cabecera ``To''
es opcional y la cabecera ``Newsgroups'' también se imprime.

Si consigues que Muttprint funcione con otros programas, por favor envíame un
mensaje corto y describe como has configurado el programa. Lo agregaré aquí.

\section{Configuración}

\subsection{Archivo de Configuración}

Algunas cosas pueden ser configuradas en Muttprint. Esto es realizado en forma
permanente en los archivos de configuración {\ttfamily \$HOME/.muttprintrc}
para el usuario actual o {\ttfamily /etc/Muttprintrc} para todos los usuarios.

En el archivo de configuración, se asignan valores a algunos parámetros --
algunos diferentes a los de {\ttfamily muttrc}. Primero va el nombre del
parámetro (que consiste sólo de mayúsculas), después un signo de igual ({\ttfamily =}) 
y finalmente el valor. Es buena idea escribir el valor entre comillas dobles
({\ttfamily \verb|""|}).

Un ejemplo de un archivo de configuración es distribuído con Muttprint: 
({\ttfamily sample-muttprintrc-es}). Si has instalado un paquete RPM o 
Debian, lo encontrarás en \newline 
\url{/usr/share/doc/packages/muttprint/}.

Un ejemplo de una asignación correcta:

{\ttfamily ~~~~~~PARÁMETRO=\verb|"|valor\verb|"|}

En general el script funciona sin ninguna modificación, pero es recomendable
informar las posibilidades que tienes.

\subsubsection{Impresora}

Si no quieres que Muttprint imprima a {\ttfamily lp0}, puedes cambiar la
impresora con {\ttfamily PRINTER}.

Para imprimir en un archivo, usa la siguiente línea. Puedes elegir el archivo
que quieras.

{\ttfamily ~~~~~~PRINTER=\verb|"|TO\_FILE:/foo/bar/prueba.ps\verb|"|}

Si la impresión dúplex está activada, también se crea un segundo archivo con
el sufijo \texttt{2}, e.\,g. \texttt{prueba.ps2}.

\subsubsection{Pingüino}

Por defecto será impreso un pequeño pingüino en la esquina superior derecha de
la página. Si quieres que Muttprint imprima otra imágen, puedes especificarlo 
con {\ttfamily PENGUIN}. La imágen debe estar en el formato ``Encapsulated 
PostScript'' (un programa de conversión adecuado es {\ttfamily convert}, del 
paquete \emph{Image Magick}) y ésta será cambiada de tamaño manteniendo su 
forma con una altura de 2~cm. El ancho deber ser menor que 2~cm en este caso.

Para desactivar la impresión del pingüino, usa el valor \texttt{off} en \texttt{PENGUIN}.

\subsubsection{Impresión Dúplex}

Muttprint hace posible imprimir en ambos lados de una hoja. Primero son
impresas las páginas impares (1,~3,~\dots) y después las pares (2,~4,~\dots).
En el medio, hay un pequeña pausa.

Para calcular el intervalo de tiempo que Muttprint debe esperar para empezar a
imprimir las páginas pares, éste necesita la velocidad de tu impresora;
consulta \ref{velocidad}.

Para activar ésta funcionalidad, tienes que usar el valor {\ttfamily on} en 
{\ttfamily DUPLEX}.

Si posees un verdadera impresora Postscript y ésa impresora tiene la capacidad
de impresión dúplex, deberías usar el valor \texttt{printer} en \texttt{DUPLEX}. 
De esa manera el código Postscript será modificado y se ordenará a la
impresora que use la funcionalidad dúplex.



\subsubsection{Modo ahorro de papel}

Es posible imprimir dos páginas en una carilla de la hoja en modo horizontal
(landscape) para ahorrar papel, tinta y para mejorar la velocidad de
impresión. Esto es posible con el formato de hoja DIN~A4 sense, ya que dos
páginas reducidas encajan exactamente en una página. (Razón entre las
proporciones $1 : \sqrt{2}$).

Para ahorrar papel, tienes que usar el valor \texttt{on} en \texttt{PAPERSAVE}.

\subsubsection{Velocidad de impresión}
\label{velocidad}

Como se describió en el último párrafo, Muttprint requiere la velocidad con la
cual se imprime una página. Debes decirselo a Muttprint con el parámetro {\ttfamily SPEED}.
Los valores son en segunds (sin la unidad). El valor por defecto es
30~segundos, entonces la línea de configuración es {\ttfamily SPEED=\verb|"|30\verb|"|}.

\subsubsection{Fuente}

La impresión puede realizarse con diferentes fuentes. Para elegir la fuente,
puedes cambiar {\ttfamily FONT}. Por defecto es {\ttfamily Latex}, esto
significa que se utilizará la fuente estándar \LaTeX font de la familia EC.
Con \texttt{Latex-bright}, se utiliza la fuente ``Computer Modern Bright''.

Pueden utilizarse también las fuentes Postscript \texttt{Times}, \texttt{Palatino},
\texttt{Utopia} y \texttt{Bookman}.

Por supuesto, las fuentes deben estar instaladas en tu sistema. Esto no
debería ser un problema ya que la distribución de \LaTeX{} ``te\TeX'' es
estándar en los sistemas Linux.

Simplemente prueba algunas fuentes para averiguar cual es tu favorita.



\subsubsection{Formato del papel}

Para elegir el formato del papel, puedes usar los valores {\ttfamily A4} y {\ttfamily letter}.
en el parámetro {\ttfamily PAPER}. 



\subsubsection{Eliminación de la firma}

A menudo la firma contiene información inúti o publicidad, por lo tanot no
debería ser impresa. Muttprint es capaz de eliminar la firma si ésta fue
separada del resto del mensaje utilizando ``\texttt{{-}{-}~}'' -- observa el
espacio en blanco (algunos clientes de correo no generan correctamente el
separador).

Para hacer esto tienes que usar el valor \texttt{on} en el parámetro
\texttt{REM\_SIG} (esto significa ``eliminar la firma'').



\subsubsection{Omitir el texto citado}

A menudo el autor del mensaje no cita sensatamente sino que adjunta todo el
mensjae (piensa en  \texttt{---- Original Message ----}) de modo que la
impresión se vuelve larga y confusa.

Si el valor de \texttt{REM\_QUOTE} es \texttt{on}, el texto citado no será
impreso. Muttprint detecta el texto citado utilizando la misma expresión
regular que utiliza Mutt con su configuración estándar. De esa manera el texto
cuyo color es enfatizado en Mutt deberá ser omitido en la impresión. Ésto
corresponde a la función ``toggle quote'' (\texttt{Shift-t}) en Mutt en la
pantalla.


\subsubsection{Mensajes de error}

Los mensajes {\ttfamily latex} y {\ttfamily dvips} no son desplegados por
defecto. Si existen problemas, sería útil leer ésos mensajes. Por lo tanto
deberías usar el valor \texttt{1} en el parámetro \texttt{DEBUG} en tu archivo
de configuración. Ahora Muttprint creará un archivo llamado \url{/tmp/muttprint.log} 
en la próxima ejecución, de ese modo podrás mirar esos mensajes de error. Ésto
puede ser útil para todos los reportes de fallos, también.

\subsection{Opciones de línea de comandos}

La mayoría de las posibilidades de configuración están disponibles también
como opciones en la línea de comandos. La ventaja es una integración más fácil
en los clientes de correo, por ejemplo con macros propios.

Obtendrás un descripción explícita de todas las opciones con el comando \texttt{muttprint -h} 
(en Español, Inglés y Alemán) o en la página manual con \texttt{man muttprint}
(en Español e Inglés).

El resultado de estas opciones es el mismo que con el archivo de
configuración, pero las opciones de línea de comandos tienen preferencia sobre
cualquier otra opción de configuración.






\subsection{Las cabeceras en otros idiomas}

El script soporta los idiomas \emph{Alemán}, \emph{Italiano}, \emph{Español} e \emph{Inglés}.
Si el valor del parámetro {\ttfamily LANG} es {\ttfamily DE} o {\ttfamily de}, Muttprint
utiliza el Alemán, si es {\ttfamily ES} o {\ttfamily es} éste utiliza el
Español, en cualquier otro caso utizará el Inglés. 



%%%%%%%%%%%%%
%% \subsection{Different languages for the header}
%% 
%% The script supports the languages \emph{German}, \emph{Italian},
%% \emph{Spanish}, \emph{French} and \emph{English}. 
%% Normally the \texttt{LANG} environment is set to the right value for your 
%% language:  \texttt{de}, \texttt{it}, \texttt{fr},
%% \texttt{es} or \texttt{en}. Muttprint recognizes only the first two characters,
%% for example the value \texttt{de\_DE.ISO-8859-15} is all right and has
%% the wanted effect. If the value is not known, Muttprint uses English
%% as default.
%%%%%%%%%%%%%

Si quieres utilizar otro idioma para la impresión, diferente del idioma del
sistema, puedes especificar {\ttfamily LANG} en tu archivo de configuración
{\ttfamily muttprintrc}.

La fecha es creada con el paquete \texttt{babel.sty} de \LaTeX{}. Si el valor
de \texttt{LANG} es \texttt{ES} or \texttt{es}, Muttprint toma a
\texttt{espanol} como argumento. Para usar la fecha en otro idioma, puedes
cambiar \texttt{LPack} en tu archivo  \texttt{/etc/Muttprintrc} o
\texttt{\~{}/.muttprintrc}, por ejemplo usando \texttt{spanish} or
\texttt{ngerman}.

Si quieres que el idioma utilizado por Muttprint sea diferente al utilizado
por tu sistema, dale el valor adecuado al parámetro \texttt{LANG} en tu
archivo de configuración. Si quieres utilizar idiomas diferentes o solo
palabras diferentes, puedes cambiar los siguientes parámetros:



\begin{itemize}

\item \texttt{FROM\_STRING}
\item \texttt{TO\_STRING}
\item \texttt{SUBJECT\_STRING}
\item \texttt{CC\_STRING}
\item \texttt{DATE\_STRING}
\item \texttt{PAGE\_STRING}
\item \texttt{OF\_STRING}
\item \texttt{NEWSGROUPS\_STRING}

\end{itemize}



%\begin{center}
%\begin{tabular}{|lllll|}
%\hline
%\emph{Variables}              & \emph{Alemán}  & \emph{Italiano}    &\emph{Español}      & \emph{Inglés} \\
%\hline \hline 
%{\ttfamily FROM\_STRING}      & Von:           & Da:                & Desde:             & From: \\
%{\ttfamily TO\_STRING}        & An:            & A:                 & Para:              & To: \\
%{\ttfamily SUBJECT\_STRING}   & Betreff:       & Soggetto:          & Asunto:            & Subject: \\
%{\ttfamily CC\_STRING}        & Kopie an:      & Copia Carbone:     & Copia Carbón:      & Carbon Copy: \\
%{\ttfamily DATE\_STRING}      & Datum:         & Data:              & Fecha:             & Date: \\
%{\ttfamily PAGE\_STRING}      & Seite          & pagina             & Página             & page \\
%{\ttfamily OF\_STRING}        & von            & /                  & de                 & of \\
%{\ttfamily NEWSGROUP\_STRING} & Newsgroup:     & Gruppo:            & Grupo de Noticias: & Newsgroup: \\
%\hline
%\end{tabular}
%\end{center}


\section{Programas necesarios}

Muttprint fue programado utilizando el lenguaje Perl. Entonces necesitas un
configuración de Perl 5 funcional, aunque si ya no lo tienes éste está
disponible en todos los sistemas Linux estándar. Además, algunos programas son
utilizados para proveer diferentes funciones. Así que cerciórate de que estos
programas estén diponibles en tu sistema:

\begin{itemize}

\item \emph{teTeX} u otra distribución \LaTeX{}. Muttprint fue probado con 
\emph{teTeX}, versión 1.x. 

\item \texttt{fmt}, parte del paquete \emph{Textutils}, por ejemplo del
proyecto GNU.

\item \texttt{psnup} y \texttt{psselect}, parte del paquete \emph{PS-Utils}

\end{itemize}


                
\section{Notas}

\subsection{Autor, Licencia}
El script fue escrito por Bernhard Walle {\ttfamily Bernhard.Walle@gmx.de}.

Este programa es software libre; puedes redistribuirlo y/o modificarlo bajo
los condiciones de la Licencia Pública General GNU como fue publicada por la
Fundación por el Software Libre (Free Software Foundation); ya sea la versión
2 de la Licencia, o (a tu elección) cualquier versión posterior.

Este manual es distribuido con la esperanza de que sea útil, pero
\emph{sin garantía alguna}; incluso sin la garantía implícita de 
\emph{mercantibilidad} o \emph{aptitud para un propósito particular}. Ver
la Licencia Pública General GNU para más detalles.

Has recibido una copia de la  GNU General Public License junto con éste
programa (archivo \texttt{COPYING}.

Por favor envíame notas, comentarios, propuestas de mejoras \ldots{} por correo
electrónico.

\subsection{Descarga}

Puedes descargar la versión más nueva desde
\url{http://bwalle.exit.mytoday.de/muttprint/}.

Las versiones nuevas son anunciadas en Freshmeat (\url{http://www.freshmeat.net}).

\subsection{Agradecimientos}

a todos los usuarios que han reportado fallos. Ellos me ayudarón mucho a
mejorar Muttprint. Especialmente quiero agradecer a \textsc{Roman Beigelbeck}
por proveer imágenes adicionales, a \textsc{Roberto Vallone} por la traducción
Italiana, a \textsc{Marcelo Ramos} por la traducción Española y a los
mantenedores de Debian \textsc{Dr. Guenter Bechly} y \textsc{Chanop Silpa-Anan}.

\subsection{Traducción}
La traducción de este documento al idioma español a partir del documento en
inglés del autor y la generación de los correspondientes formatos pdf, dvi,
ps, txt y html fueron realizados por Marcelo Ramos {\ttfamily
mramos@adinet.com.uy}.

%%%%%%%%%%%%
%% \subsection{Thanks}
%% 
%% to all users who have reported bugs. They helped me a lot to improve Muttprint.
%% Especially I want to thank \textsc{Roman Beigelbeck} for providing additional
%% pictures, \textsc{Roberto Vallone} for the Italian transation,
%% \textsc{Vincent Bernat} for the French translation,
%% \textsc{Marcelo Ramos} for the Spanish tranlation and the
%% Debian maintainers \textsc{Dr. Guenter Bechly} and \textsc{Chanop Silpa-Anan}.
%%%%%%%%%%%%%%



Cualquier comentario o propuesta para mejorar ésta traducción será bienvenida.

\begin{thebibliography}{lit}
\bibitem{maxrpm} Maximum-RPM, \url{http://www.rpm.org/maximum-rpm.ps.gz}
\bibitem{deb} Debian ``developer's corner'' \url{http://www.debian.org/devel/}
\end{thebibliography}

\end{document}

